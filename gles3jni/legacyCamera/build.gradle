apply plugin: 'com.android.application'
//def platformVersion = 24      // openGLES 3.2 min api level
def platformVersion = 18    //openGLES 3 min api level
// def platformVersion = 12    //openGLES 2 min api level
android {
    compileSdkVersion 26
    buildToolsVersion "26.0.2"

    defaultConfig {
        applicationId "com.android.camera"
        minSdkVersion "${platformVersion}"

        testApplicationId "com.android.camera.tests"
        testInstrumentationRunner "com.android.camera.CameraLaunchPerformance"
        externalNativeBuild {
            cmake {
                cppFlags "-frtti -fexceptions"
            }
        }
        ndk {
            abiFilters 'armeabi-v7a'// , 'arm64-v8a' ,'x86', 'x86_64' may be added
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }
   /* task ndkClean(type: Delete) {
        // remove unused archs from build cache
        delete fileTree('.externalNativeBuild')
    }
    externalNativeBuild {
        ndkBuild {
            path 'src/main/jni/Android.mk'
        }
    }*/
}


